---
interface Properties {
  border?: 'all' | 'top-bottom'
  borderColor?: 'outline' | 'primary' | 'none'
  background?: 'surface-1' | 'surface-2' | 'primary-bg' | 'none-bg'
  shadow?: 'none' | 'sm' | 'md' | 'lg'
  padding?: 'none' | 'sm' | 'md' | 'lg'
  hover?: boolean
  class?: string
}

const {
  border = 'all',
  borderColor = 'outline',
  background = 'surface-1',
  shadow = 'none',
  hover = false,
  class: className = '',
} = Astro.props as Properties
---

<div
  class={`card border-${border} border-color-${borderColor} ${background} ${shadow !== 'none' ? `shadow-${shadow}` : ''} ${hover ? 'hover' : ''} ${className}`}
>
  <slot />
</div>

<style lang="scss">
  @use '@/scss/mixins' as *;

  .card {
    display: flex;
    flex-direction: column;
    padding: 1.5rem;
  }

  .border-all {
    &.border-color-outline {
      @include border($all: true);
    }

    &.border-color-primary {
      @include border($all: true, $color: primary);
    }
  }

  .border-top-bottom {
    &.border-color-outline {
      @include border($top: true, $bottom: true);
    }

    &.border-color-primary {
      @include border($top: true, $bottom: true, $color: primary);
    }
  }

  .border-color-none {
    border: none;
  }

  .surface-1 {
    @include background(surface-1);
  }

  .surface-2 {
    @include background(surface-2);
  }

  .primary-bg {
    @include background(primary);
    @include text-color(on-primary);
  }

  .none-bg {
    background: none;
  }

  .shadow-sm {
    @include shadow-elevation(sm);
  }

  .shadow-md {
    @include shadow-elevation(md);
  }

  .shadow-lg {
    @include shadow-elevation(lg);
  }

  .border-all.border-color-outline.hover:hover,
  .border-top-bottom.border-color-outline.hover:hover {
    @include hover-transition($border-color: get-border-color(primary));
  }

  .surface-1.hover:hover {
    @include hover-transition($background-color: get-background(surface-2));
  }

  .surface-2.hover:hover {
    @include hover-transition($background-color: get-background(surface-3));
  }

  .primary-bg.hover:hover {
    @include hover-transition($background-color: get-background(primary));
  }
</style>
